!function(n,e){"object"==typeof exports&&"undefined"!=typeof module?e(exports):"function"==typeof define&&define.amd?define(["exports"],e):e((n="undefined"!=typeof globalThis?globalThis:n||self).glSDK={})}(this,(function(n){"use strict";var e=function(){return e=Object.assign||function(n){for(var e,t=1,r=arguments.length;t<r;t++)for(var o in e=arguments[t])Object.prototype.hasOwnProperty.call(e,o)&&(n[o]=e[o]);return n},e.apply(this,arguments)};function t(n,e,t){if(t||2===arguments.length)for(var r,o=0,i=e.length;o<i;o++)!r&&o in e||(r||(r=Array.prototype.slice.call(e,0,o)),r[o]=e[o]);return n.concat(r||Array.prototype.slice.call(e))}var r={exports:{}},o="undefined"!=typeof crypto&&crypto.getRandomValues&&crypto.getRandomValues.bind(crypto)||"undefined"!=typeof msCrypto&&"function"==typeof window.msCrypto.getRandomValues&&msCrypto.getRandomValues.bind(msCrypto);if(o){var i=new Uint8Array(16);r.exports=function(){return o(i),i}}else{var a=new Array(16);r.exports=function(){for(var n,e=0;e<16;e++)0==(3&e)&&(n=4294967296*Math.random()),a[e]=n>>>((3&e)<<3)&255;return a}}for(var c=[],u=0;u<256;++u)c[u]=(u+256).toString(16).substr(1);var s,l,f=function(n,e){var t=e||0,r=c;return[r[n[t++]],r[n[t++]],r[n[t++]],r[n[t++]],"-",r[n[t++]],r[n[t++]],"-",r[n[t++]],r[n[t++]],"-",r[n[t++]],r[n[t++]],"-",r[n[t++]],r[n[t++]],r[n[t++]],r[n[t++]],r[n[t++]],r[n[t++]]].join("")},d=r.exports,g=f,v=0,p=0;var m=function(n,e,t){var r=e&&t||0,o=e||[],i=(n=n||{}).node||s,a=void 0!==n.clockseq?n.clockseq:l;if(null==i||null==a){var c=d();null==i&&(i=s=[1|c[0],c[1],c[2],c[3],c[4],c[5]]),null==a&&(a=l=16383&(c[6]<<8|c[7]))}var u=void 0!==n.msecs?n.msecs:(new Date).getTime(),f=void 0!==n.nsecs?n.nsecs:p+1,m=u-v+(f-p)/1e4;if(m<0&&void 0===n.clockseq&&(a=a+1&16383),(m<0||u>v)&&void 0===n.nsecs&&(f=0),f>=1e4)throw new Error("uuid.v1(): Can't create more than 10M uuids/sec");v=u,p=f,l=a;var h=(1e4*(268435455&(u+=122192928e5))+f)%4294967296;o[r++]=h>>>24&255,o[r++]=h>>>16&255,o[r++]=h>>>8&255,o[r++]=255&h;var y=u/4294967296*1e4&268435455;o[r++]=y>>>8&255,o[r++]=255&y,o[r++]=y>>>24&15|16,o[r++]=y>>>16&255,o[r++]=a>>>8|128,o[r++]=255&a;for(var w=0;w<6;++w)o[r+w]=i[w];return e||g(o)},h=r.exports,y=f;var w=function(n,e,t){var r=e&&t||0;"string"==typeof n&&(e="binary"===n?new Array(16):null,n=null);var o=(n=n||{}).random||(n.rng||h)();if(o[6]=15&o[6]|64,o[8]=63&o[8]|128,e)for(var i=0;i<16;++i)e[r+i]=o[i];return e||y(o)},b=m,k=w,S=k;S.v1=b,S.v4=k;var T=S;
/*!
   * Core functionality for Snowplow JavaScript trackers v3.12.0 (http://bit.ly/sp-js)
   * Copyright 2022 Snowplow Analytics Ltd, 2010 Anthon Pang
   * Licensed under BSD-3-Clause
   */function x(n){if(!n)return n;switch(4-n.length%4){case 2:n+="==";break;case 3:n+="="}return function(n){var e,t,r,o,i,a,c=function(n){return decodeURIComponent(n.split("").map((function(n){return"%"+("00"+n.charCodeAt(0).toString(16)).slice(-2)})).join(""))},u=0,s=0,l="",f=[];if(!n)return n;n+="";do{e=(a=E.indexOf(n.charAt(u++))<<18|E.indexOf(n.charAt(u++))<<12|(o=E.indexOf(n.charAt(u++)))<<6|(i=E.indexOf(n.charAt(u++))))>>16&255,t=a>>8&255,r=255&a,f[s++]=64===o?String.fromCharCode(e):64===i?String.fromCharCode(e,t):String.fromCharCode(e,t,r)}while(u<n.length);return l=f.join(""),c(l.replace(/\0+$/,""))}(n.replace(/-/g,"+").replace(/_/g,"/"))}function C(n){if(!n)return n;var e=function(n){var e,t,r,o,i,a=0,c=0,u=[];if(!n)return n;n=unescape(encodeURIComponent(n));do{e=(i=n.charCodeAt(a++)<<16|n.charCodeAt(a++)<<8|n.charCodeAt(a++))>>18&63,t=i>>12&63,r=i>>6&63,o=63&i,u[c++]=E.charAt(e)+E.charAt(t)+E.charAt(r)+E.charAt(o)}while(a<n.length);var s=u.join(""),l=n.length%3;return(l?s.slice(0,l-3):s)+"===".slice(l||3)}(n);return e.replace(/=/g,"").replace(/\+/g,"-").replace(/\//g,"_")}var E="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=";function A(){var n,e={},t=[],r=[],o=[],i=function(n,t){null!=t&&""!==t&&(e[n]=t)};return{add:i,addDict:function(n){for(var e in n)Object.prototype.hasOwnProperty.call(n,e)&&i(e,n[e])},addJson:function(n,e,o){if(o&&P(o)){var i={keyIfEncoded:n,keyIfNotEncoded:e,json:o};r.push(i),t.push(i)}},addContextEntity:function(n){o.push(n)},getPayload:function(){return e},getJson:function(){return t},withJsonProcessor:function(e){n=e},build:function(){return null==n||n(this,r,o),e}}}function O(n){return function(e,r,o){for(var i=function(t,r,o){var i=JSON.stringify(t);n?e.add(r,C(i)):e.add(o,i)},a=function(t,r){var o=t||function(){var t=e.getPayload();if(n?t.cx:t.co)return JSON.parse(n?x(t.cx):t.co)}();return o?o.data=o.data.concat(r.data):o=r,o},c=void 0,u=0,s=r;u<s.length;u++){var l=s[u];"cx"===l.keyIfEncoded?c=a(c,l.json):i(l.json,l.keyIfEncoded,l.keyIfNotEncoded)}(r.length=0,o.length)&&(c=a(c,{schema:"iglu:com.snowplowanalytics.snowplow/contexts/jsonschema/1-0-0",data:t([],o,!0)}),o.length=0);c&&i(c,"cx","co")}}function P(n){if(!I(n))return!1;for(var e in n)if(Object.prototype.hasOwnProperty.call(n,e))return!0;return!1}function I(n){return null!=n&&(n.constructor==={}.constructor||n.constructor===[].constructor)}var L,j="Snowplow: ";!function(n){n[n.none=0]="none",n[n.error=1]="error",n[n.warn=2]="warn",n[n.debug=3]="debug",n[n.info=4]="info"}(L||(L={}));var D=function(n){void 0===n&&(n=L.warn);return{setLogLevel:function(e){n=L[e]?e:L.warn},warn:function(e,r){for(var o=[],i=2;i<arguments.length;i++)o[i-2]=arguments[i];if(n>=L.warn&&"undefined"!=typeof console){var a=j+e;r?console.warn.apply(console,t([a+"\n",r],o,!1)):console.warn.apply(console,t([a],o,!1))}},error:function(e,r){for(var o=[],i=2;i<arguments.length;i++)o[i-2]=arguments[i];if(n>=L.error&&"undefined"!=typeof console){var a=j+e+"\n";r?console.error.apply(console,t([a+"\n",r],o,!1)):console.error.apply(console,t([a],o,!1))}},debug:function(e){for(var r=[],o=1;o<arguments.length;o++)r[o-1]=arguments[o];n>=L.debug&&"undefined"!=typeof console&&console.debug.apply(console,t([j+e],r,!1))},info:function(e){for(var r=[],o=1;o<arguments.length;o++)r[o-1]=arguments[o];n>=L.info&&"undefined"!=typeof console&&console.info.apply(console,t([j+e],r,!1))}}}();function N(){var n=[],e=[],t=function(t){var r=function(n){for(var e=n.getJson(),t=0,r=e;t<r.length;t++){var o=r[t];if("ue_px"===o.keyIfEncoded&&"object"==typeof o.json.data){var i=o.json.data.schema;if("string"==typeof i)return i}}return""}(t),o=function(n){var e=n.getPayload().e;return"string"==typeof e?e:""}(t),i=[],a=W(n,t,o,r);i.push.apply(i,a);var c=function(n,e,t,r){var o,i=X(n),a=function(n){var o=function(n,e,t,r){if(z(n)){var o=n[0],i=!1;try{i=o({event:e.getPayload(),eventType:t,eventSchema:r})}catch(n){i=!1}if(!0===i)return W(n[1],e,t,r)}else if(J(n)&&function(n,e){var t=0,r=0,o=n.accept;Array.isArray(o)?n.accept.some((function(n){return G(n,e)}))&&r++:"string"==typeof o&&G(o,e)&&r++;var i=n.reject;Array.isArray(i)?n.reject.some((function(n){return G(n,e)}))&&t++:"string"==typeof i&&G(i,e)&&t++;if(r>0&&0===t)return!0;if(0===r&&t>0)return!1;return!1}(n[0],r))return W(n[1],e,t,r);return[]}(n,e,t,r);if(o&&0!==o.length)return o},c=i.map(a);return(o=[]).concat.apply(o,c.filter((function(n){return null!=n&&n.filter(Boolean)})))}(e,t,o,r);return i.push.apply(i,c),i};return{getGlobalPrimitives:function(){return n},getConditionalProviders:function(){return e},addGlobalContexts:function(t){for(var r=[],o=[],i=0,a=t;i<a.length;i++){var c=a[i];F(c)?r.push(c):H(c)&&o.push(c)}n=n.concat(o),e=e.concat(r)},clearGlobalContexts:function(){e=[],n=[]},removeGlobalContexts:function(t){for(var r=function(t){F(t)?e=e.filter((function(n){return JSON.stringify(n)!==JSON.stringify(t)})):H(t)&&(n=n.filter((function(n){return JSON.stringify(n)!==JSON.stringify(t)})))},o=0,i=t;o<i.length;o++){r(i[o])}},getApplicableContexts:function(n){return t(n)}}}function U(n){var e=n.split(".");return!!(e&&e.length>1)&&function(n){if("*"===n[0]||"*"===n[1])return!1;if(n.slice(2).length>0){for(var e=!1,t=0,r=n.slice(2);t<r.length;t++)if("*"===r[t])e=!0;else if(e)return!1;return!0}return 2==n.length}(e)}function B(n){var e=new RegExp("^iglu:((?:(?:[a-zA-Z0-9-_]+|\\*).)+(?:[a-zA-Z0-9-_]+|\\*))/([a-zA-Z0-9-_.]+|\\*)/jsonschema/([1-9][0-9]*|\\*)-(0|[1-9][0-9]*|\\*)-(0|[1-9][0-9]*|\\*)$").exec(n);if(null!==e&&U(e[1]))return e.slice(1,6)}function _(n){var e=B(n);if(e){var t=e[0];return 5===e.length&&U(t)}return!1}function R(n){return function(n){return Array.isArray(n)&&n.every((function(n){return"string"==typeof n}))}(n)?n.every((function(n){return _(n)})):"string"==typeof n&&_(n)}function V(n){var e=n;return!!(P(e)&&"schema"in e&&"data"in e)&&("string"==typeof e.schema&&"object"==typeof e.data)}function M(n){return"function"==typeof n&&n.length<=1}function H(n){return M(n)||V(n)}function z(n){return!(!Array.isArray(n)||2!==n.length)&&(Array.isArray(n[1])?M(n[0])&&n[1].every(H):M(n[0])&&H(n[1]))}function J(n){return!(!Array.isArray(n)||2!==n.length)&&(!!function(n){var e=n,t=0;if(null!=n&&"object"==typeof n&&!Array.isArray(n)){if(Object.prototype.hasOwnProperty.call(e,"accept")){if(!R(e.accept))return!1;t+=1}if(Object.prototype.hasOwnProperty.call(e,"reject")){if(!R(e.reject))return!1;t+=1}return t>0&&t<=2}return!1}(n[0])&&(Array.isArray(n[1])?n[1].every(H):H(n[1])))}function F(n){return z(n)||J(n)}function G(n,e){if(!_(n))return!1;var t=B(n),r=function(n){var e=new RegExp("^iglu:([a-zA-Z0-9-_.]+)/([a-zA-Z0-9-_]+)/jsonschema/([1-9][0-9]*)-(0|[1-9][0-9]*)-(0|[1-9][0-9]*)$").exec(n);if(null!==e)return e.slice(1,6)}(e);if(t&&r){if(!function(n,e){var t=e.split("."),r=n.split(".");if(t&&r){if(t.length!==r.length)return!1;for(var o=0;o<r.length;o++)if(!q(t[o],r[o]))return!1;return!0}return!1}(t[0],r[0]))return!1;for(var o=1;o<5;o++)if(!q(t[o],r[o]))return!1;return!0}return!1}function q(n,e){return n&&e&&"*"===n||n===e}function X(n){return Array.isArray(n)?n:Array.of(n)}function W(n,e,t,r){var o,i=X(n).map((function(n){var o=function(n,e,t,r){if(V(n))return[n];if(M(n)){var o=function(n,e,t,r){var o=void 0;try{return o=n({event:e.getPayload(),eventType:t,eventSchema:r}),Array.isArray(o)&&o.every(V)||V(o)?o:void 0}catch(n){o=void 0}return o}(n,e,t,r);if(V(o))return[o];if(Array.isArray(o))return o}return}(n,e,t,r);if(o&&0!==o.length)return o}));return(o=[]).concat.apply(o,i.filter((function(n){return null!=n&&n.filter(Boolean)})))}function Y(n){void 0===n&&(n={});var r=n.base64,o=n.corePlugins,i=n.callback,a=null!=o?o:[],c=function(n,e,r){var o=function(n){return{addPluginContexts:function(e){var r=e?t([],e,!0):[];return n.forEach((function(n){try{n.contexts&&r.push.apply(r,n.contexts())}catch(n){D.error("Error adding plugin contexts",n)}})),r}}}(e),i=N(),a=n,c={};function u(n,e){c[n]=e}var s={track:function(n,t,u){n.withJsonProcessor(O(a)),n.add("eid",T.v4()),n.addDict(c);var s=function(n){return null==n?{type:"dtm",value:(new Date).getTime()}:"number"==typeof n?{type:"dtm",value:n}:"ttm"===n.type?{type:"ttm",value:n.value}:{type:"dtm",value:n.value||(new Date).getTime()}}(u);n.add(s.type,s.value.toString());var l=function(n){if(n&&n.length)return{schema:"iglu:com.snowplowanalytics.snowplow/contexts/jsonschema/1-0-0",data:n}}(function(n,e){var t=i.getApplicableContexts(n),r=[];return e&&e.length&&r.push.apply(r,e),t&&t.length&&r.push.apply(r,t),r}(n,o.addPluginContexts(t)));void 0!==l&&n.addJson("cx","co",l),e.forEach((function(e){try{e.beforeTrack&&e.beforeTrack(n)}catch(n){D.error("Plugin beforeTrack",n)}})),"function"==typeof r&&r(n);var f=n.build();return e.forEach((function(n){try{n.afterTrack&&n.afterTrack(f)}catch(n){D.error("Plugin afterTrack",n)}})),f},addPayloadPair:u,getBase64Encoding:function(){return a},setBase64Encoding:function(n){a=n},addPayloadDict:function(n){for(var e in n)Object.prototype.hasOwnProperty.call(n,e)&&(c[e]=n[e])},resetPayloadPairs:function(n){c=I(n)?n:{}},setTrackerVersion:function(n){u("tv",n)},setTrackerNamespace:function(n){u("tna",n)},setAppId:function(n){u("aid",n)},setPlatform:function(n){u("p",n)},setUserId:function(n){u("uid",n)},setScreenResolution:function(n,e){u("res",n+"x"+e)},setViewport:function(n,e){u("vp",n+"x"+e)},setColorDepth:function(n){u("cd",n)},setTimezone:function(n){u("tz",n)},setLang:function(n){u("lang",n)},setIpAddress:function(n){u("ip",n)},setUseragent:function(n){u("ua",n)},addGlobalContexts:function(n){i.addGlobalContexts(n)},clearGlobalContexts:function(){i.clearGlobalContexts()},removeGlobalContexts:function(n){i.removeGlobalContexts(n)}};return s}(null==r||r,a,i),u=e(e({},c),{addPlugin:function(n){var e,t,r=n.plugin;a.push(r),null===(e=r.logger)||void 0===e||e.call(r,D),null===(t=r.activateCorePlugin)||void 0===t||t.call(r,u)}});return null==a||a.forEach((function(n){var e,t;null===(e=n.logger)||void 0===e||e.call(n,D),null===(t=n.activateCorePlugin)||void 0===t||t.call(n,u)})),u}function Q(n){var e=n.event,t=e.schema,r=e.data,o=A(),i={schema:"iglu:com.snowplowanalytics.snowplow/unstruct_event/jsonschema/1-0-0",data:{schema:t,data:r}};return o.add("e","ue"),o.addJson("ue_px","ue_pr",i),o}function Z(n,e){void 0===e&&(e={});var t={};for(var r in n)(e[r]||null!==n[r]&&void 0!==n[r])&&(t[r]=n[r]);return t}var K,$,nn={exports:{}},en={exports:{}};K="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",$={rotl:function(n,e){return n<<e|n>>>32-e},rotr:function(n,e){return n<<32-e|n>>>e},endian:function(n){if(n.constructor==Number)return 16711935&$.rotl(n,8)|4278255360&$.rotl(n,24);for(var e=0;e<n.length;e++)n[e]=$.endian(n[e]);return n},randomBytes:function(n){for(var e=[];n>0;n--)e.push(Math.floor(256*Math.random()));return e},bytesToWords:function(n){for(var e=[],t=0,r=0;t<n.length;t++,r+=8)e[r>>>5]|=n[t]<<24-r%32;return e},wordsToBytes:function(n){for(var e=[],t=0;t<32*n.length;t+=8)e.push(n[t>>>5]>>>24-t%32&255);return e},bytesToHex:function(n){for(var e=[],t=0;t<n.length;t++)e.push((n[t]>>>4).toString(16)),e.push((15&n[t]).toString(16));return e.join("")},hexToBytes:function(n){for(var e=[],t=0;t<n.length;t+=2)e.push(parseInt(n.substr(t,2),16));return e},bytesToBase64:function(n){for(var e=[],t=0;t<n.length;t+=3)for(var r=n[t]<<16|n[t+1]<<8|n[t+2],o=0;o<4;o++)8*t+6*o<=8*n.length?e.push(K.charAt(r>>>6*(3-o)&63)):e.push("=");return e.join("")},base64ToBytes:function(n){n=n.replace(/[^A-Z0-9+\/]/gi,"");for(var e=[],t=0,r=0;t<n.length;r=++t%4)0!=r&&e.push((K.indexOf(n.charAt(t-1))&Math.pow(2,-2*r+8)-1)<<2*r|K.indexOf(n.charAt(t))>>>6-2*r);return e}},en.exports=$;var tn={utf8:{stringToBytes:function(n){return tn.bin.stringToBytes(unescape(encodeURIComponent(n)))},bytesToString:function(n){return decodeURIComponent(escape(tn.bin.bytesToString(n)))}},bin:{stringToBytes:function(n){for(var e=[],t=0;t<n.length;t++)e.push(255&n.charCodeAt(t));return e},bytesToString:function(n){for(var e=[],t=0;t<n.length;t++)e.push(String.fromCharCode(n[t]));return e.join("")}}},rn=tn;function on(n,e,t){void 0===t&&(t=63072e3);try{var r=window.localStorage,o=Date.now()+1e3*t;return r.setItem("".concat(n,".expires"),o.toString()),r.setItem(n,e),!0}catch(n){return!1}}function an(n){try{var e=window.localStorage;return e.removeItem(n),e.removeItem(n+".expires"),!0}catch(n){return!1}}function cn(n){try{return window.sessionStorage.getItem(n)}catch(n){return}}function un(n){return!(!n||"string"!=typeof n.valueOf())}function sn(n){return Number.isInteger&&Number.isInteger(n)||"number"==typeof n&&isFinite(n)&&Math.floor(n)===n}function ln(n){return!(!n||"function"!=typeof n)}function fn(n){if(!un(n)){n=n.text||"";var e=document.getElementsByTagName("title");e&&null!=e[0]&&(n=e[0].text)}return n}function dn(n){var e=new RegExp("^(?:(?:https?|ftp):)/*(?:[^@]+@)?([^:/#]+)").exec(n);return e?e[1]:n}function gn(n){var e=n.length;return"."===n.charAt(--e)&&(n=n.slice(0,e)),"*."===n.slice(0,2)&&(n=n.slice(1)),n}function vn(n){var e=window,t=mn("referrer",e.location.href)||mn("referer",e.location.href);if(t)return t;if(n)return n;try{if(e.top)return e.top.document.referrer;if(e.parent)return e.parent.document.referrer}catch(n){}return document.referrer}function pn(n,e,t,r){return n.addEventListener?(n.addEventListener(e,t,r),!0):n.attachEvent?n.attachEvent("on"+e,t):void(n["on"+e]=t)}function mn(n,e){var t=new RegExp("^[^#]*[?&]"+n+"=([^&#]*)").exec(e);return t?decodeURIComponent(t[1].replace(/\+/g," ")):null}function hn(n,e,t,r){wn(n,"",-1,"/",e,t,r)}function yn(n){for(var e=document.cookie.split("; "),t=[],r=0;r<e.length;r++)e[r].substring(0,n.length)===n&&t.push(e[r]);return t}function wn(n,e,t,r,o,i,a){return arguments.length>1?document.cookie=n+"="+encodeURIComponent(null!=e?e:"")+(t?"; Expires="+new Date(+new Date+1e3*t).toUTCString():"")+(r?"; Path="+r:"")+(o?"; Domain="+o:"")+(i?"; SameSite="+i:"")+(a?"; Secure":""):decodeURIComponent((("; "+document.cookie).split("; "+n+"=")[1]||"").split(";")[0])}function bn(n){if(null==n||"object"!=typeof n||Array.isArray(n))return function(){return!0};var e=Object.prototype.hasOwnProperty.call(n,"allowlist"),t=function(n){var e={},t=n.allowlist||n.denylist;if(t){Array.isArray(t)||(t=[t]);for(var r=0;r<t.length;r++)e[t[r]]=!0}return e}(n);return function(n,e){if(n.hasOwnProperty("filter")&&n.filter)return n.filter;return e}(n,(function(n){return function(n,e){for(var t=kn(n),r=0,o=t;r<o.length;r++){if(e[o[r]])return!0}return!1}(n,t)===e}))}function kn(n){return n.className.match(/\S+/g)||[]}function Sn(){var n="modernizr";if(!function(){try{return!!window.localStorage}catch(n){return!0}}())return!1;try{var e=window.localStorage;return e.setItem(n,n),e.removeItem(n),!0}catch(n){return!1}}!function(){var n=en.exports,e=rn.utf8,t=rn.bin,r=function(r,o){var i=n.wordsToBytes(function(t){t.constructor==String?t=e.stringToBytes(t):"undefined"!=typeof Buffer&&"function"==typeof Buffer.isBuffer&&Buffer.isBuffer(t)?t=Array.prototype.slice.call(t,0):Array.isArray(t)||(t=t.toString());var r=n.bytesToWords(t),o=8*t.length,i=[],a=1732584193,c=-271733879,u=-1732584194,s=271733878,l=-1009589776;r[o>>5]|=128<<24-o%32,r[15+(o+64>>>9<<4)]=o;for(var f=0;f<r.length;f+=16){for(var d=a,g=c,v=u,p=s,m=l,h=0;h<80;h++){if(h<16)i[h]=r[f+h];else{var y=i[h-3]^i[h-8]^i[h-14]^i[h-16];i[h]=y<<1|y>>>31}var w=(a<<5|a>>>27)+l+(i[h]>>>0)+(h<20?1518500249+(c&u|~c&s):h<40?1859775393+(c^u^s):h<60?(c&u|c&s|u&s)-1894007588:(c^u^s)-899497514);l=s,s=u,u=c<<30|c>>>2,c=a,a=w}a+=d,c+=g,u+=v,s+=p,l+=m}return[a,c,u,s,l]}(r));return o&&o.asBytes?i:o&&o.asString?t.bytesToString(i):n.bytesToHex(i)};r._blocksize=16,r._digestsize=20,nn.exports=r}();var Tn="iglu:com.snowplowanalytics.snowplow/web_page/jsonschema/1-0-0",xn="iglu:com.snowplowanalytics.snowplow/browser_context/jsonschema/1-0-0",Cn="iglu:com.snowplowanalytics.snowplow/client_session/jsonschema/1-0-2",En="iglu:com.snowplowanalytics.snowplow/payload_data/jsonschema/1-0-4";function An(n,e,t,r,o,i,a,c,u,s,l,f,d,g,v,p){var m,h,y=!1,w=[],b=!0===(r="string"==typeof r?r.toLowerCase():r)||"beacon"===r||"true"===r,k=Boolean(b&&window.navigator&&window.navigator.sendBeacon&&!(function(n,e){var t=e.match("(iP.+; CPU .*OS (d+)[_d]*.*) AppleWebKit/");return!(!t||!t.length)&&parseInt(t[0])<=n}(13,h=window.navigator.userAgent)||function(n,e,t){var r=t.match("(Macintosh;.*Mac OS X (d+)_(d+)[_d]*.*) AppleWebKit/");return!(!r||!r.length)&&(parseInt(r[0])<=n||parseInt(r[0])===n&&parseInt(r[1])<=e)}(10,15,h)&&function(n){return n.match("Version/.* Safari/")&&!function(n){return n.match("Chrom(e|ium)")}(n)}(h)))&&b,S="get"===r,T=Boolean(window.XMLHttpRequest&&"withCredentials"in new XMLHttpRequest),x=!S&&T&&("post"===r||b),C=x?o:"/i",E="snowplowOutQueue_".concat(n,"_").concat(x?"post2":"get");if(b&&(d={}),i=t&&Sn()&&x&&i||1,t)try{var A=window.localStorage.getItem(E);w=A?JSON.parse(A):[]}catch(n){}function O(n){var e=Object.keys(n).map((function(e){return[e,n[e]]})).reduce((function(n,e){var t=e[0],r=e[1];return n[t]=r.toString(),n}),{});return{evt:e,bytes:P(JSON.stringify(e))}}function P(n){for(var e=0,t=0;t<n.length;t++){var r=n.charCodeAt(t);r<=127?e+=1:r<=2047?e+=2:r>=55296&&r<=57343?(e+=4,t++):e+=r<65535?3:4}return e}Array.isArray(w)||(w=[]),e.outQueues.push(w),T&&i>1&&e.bufferFlushers.push((function(n){y||j(n)}));var I=function(n){return"object"==typeof n[0]};function L(n,e){N(e,!0,!1).send(U(B([n.evt])))}function j(n){for(void 0===n&&(n=!1);w.length&&"string"!=typeof w[0]&&"object"!=typeof w[0];)w.shift();if(w.length<1)y=!1;else{if(!un(m))throw"No collector configured";if(y=!0,T){var e,r,o=void 0;I(w)?(e=N(o=m,!0,n),r=function(n){for(var e=0,t=0;e<n.length&&!((t+=n[e].bytes)>=a);)e+=1;return e}(w)):(o=_(w[0]),e=N(o,!1,n),r=1);var i=setTimeout((function(){e.abort(),y=!1}),l),c=function(n){for(var e=0;e<n;e++)w.shift();t&&on(E,JSON.stringify(w.slice(0,s)))},u=function(n){c(n),j()};if(e.onreadystatechange=function(){4===e.readyState&&e.status>=200&&(clearTimeout(i),e.status<300?u(r):(function(n){if(n>=200&&n<300)return!1;if(v.includes(n))return!0;return!p.includes(n)}(e.status)||(D.error("Status ".concat(e.status,", will not retry.")),c(r)),y=!1))},I(w)){var d=w.slice(0,r);if(d.length>0){var g=!1,h=d.map((function(n){return n.evt}));if(k){var b=new Blob([U(B(h))],{type:"application/json"});try{g=navigator.sendBeacon(o,b)}catch(n){g=!1}}!0===g?u(r):e.send(U(B(h)))}}else e.send()}else if(f||I(w))y=!1;else{var S=new Image(1,1),x=!0;S.onload=function(){x&&(x=!1,w.shift(),t&&on(E,JSON.stringify(w.slice(0,s))),j())},S.onerror=function(){x&&(x=!1,y=!1)},S.src=_(w[0]),setTimeout((function(){x&&y&&(x=!1,j())}),l)}}}function N(n,e,t){var r=new XMLHttpRequest;for(var o in e?(r.open("POST",n,!t),r.setRequestHeader("Content-Type","application/json; charset=UTF-8")):r.open("GET",n,!t),r.withCredentials=g,f&&r.setRequestHeader("SP-Anonymous","*"),d)Object.prototype.hasOwnProperty.call(d,o)&&r.setRequestHeader(o,d[o]);return r}function U(n){return JSON.stringify({schema:En,data:n})}function B(n){for(var e=(new Date).getTime().toString(),t=0;t<n.length;t++)n[t].stm=e;return n}function _(n){return u?m+n.replace("?","?stm="+(new Date).getTime()+"&"):m+n}return{enqueueRequest:function(n,e){m=e+C;var r=function(n,e){return D.warn("Event ("+n+"B) too big, max is "+e)};if(x){if((f=O(n)).bytes>=a)return r(f.bytes,a),void L(f,m);w.push(f)}else{var u=function(n){var e="?",t={co:!0,cx:!0},r=!0;for(var o in n)n.hasOwnProperty(o)&&!t.hasOwnProperty(o)&&(r?r=!1:e+="&",e+=encodeURIComponent(o)+"="+encodeURIComponent(n[o]));for(var i in t)n.hasOwnProperty(i)&&t.hasOwnProperty(i)&&(e+="&"+i+"="+encodeURIComponent(n[i]));return e}(n);if(c>0){var l=P(_(u));if(l>=c){var f;if(r(l,c),T)L(f=O(n),e+o);return}}w.push(u)}var d=!1;t&&(d=on(E,JSON.stringify(w.slice(0,s)))),y||d&&!(w.length>=i)||j()},executeQueue:function(){y||j()},setUseLocalStorage:function(n){t=n},setAnonymousTracking:function(n){f=n},setCollectorUrl:function(n){m=n+C},setBufferSize:function(n){i=n}}}function On(n,e,t){var r,o,i,a;return"translate.googleusercontent.com"===n?(""===t&&(t=e),n=dn(e=null!==(o=e,i="u",r=(a=new RegExp("^(?:https?|ftp)(?::/*(?:[^?]+))([?][^#]+)").exec(o))&&(null==a?void 0:a.length)>1?mn(i,a[1]):null)&&void 0!==r?r:"")):"cc.bingj.com"!==n&&"webcache.googleusercontent.com"!==n||(n=dn(e=document.links[0].href)),[n,e,t]}var Pn=0,In=1,Ln=2,jn=3,Dn=4,Nn=5,Un=6,Bn=7,_n=8,Rn=9,Vn=10;function Mn(n,t){var r=e({memorizedVisitCount:1},t),o=r.memorizedVisitCount,i=r.configStateStorageStrategy,a=r.configAnonymousTracking,c=r.onSessionUpdateCallback;Gn(n)?(n[Bn]=n[Un],n[Nn]=n[Dn],n[jn]++):n[jn]=o;var u=T.v4();return n[Un]=u,n[Vn]=0,n[_n]="",n[Rn]=void 0,c&&c(zn(n,i,a)),u}function Hn(n){n[Dn]=Math.round((new Date).getTime()/1e3)}function zn(n,e,t){var r=n[Rn];return{userId:t?"00000000-0000-0000-0000-000000000000":n[In],sessionId:n[Un],eventIndex:n[Vn],sessionIndex:n[jn],previousSessionId:t?null:n[Bn]||null,storageMechanism:"localStorage"==e?"LOCAL_STORAGE":"COOKIE_1",firstEventId:n[_n]||null,firstEventTimestamp:r?new Date(r).toISOString():null}}function Jn(n){return n[Un]}function Fn(n){return n[jn]}function Gn(n){return"0"===n[Pn]}var qn="x";function Xn(){return{viewport:Yn(Wn()),documentSize:Yn((n=document.documentElement,e=document.body,t=e?Math.max(e.offsetHeight,e.scrollHeight):0,r=Math.max(n.clientWidth,n.offsetWidth,n.scrollWidth),o=Math.max(n.clientHeight,n.offsetHeight,n.scrollHeight,t),isNaN(r)||isNaN(o)?"":r+qn+o)),resolution:Yn(screen.width+qn+screen.height),colorDepth:screen.colorDepth,devicePixelRatio:window.devicePixelRatio,cookiesEnabled:window.navigator.cookieEnabled,online:window.navigator.onLine,browserLanguage:navigator.language||navigator.userLanguage,documentLanguage:document.documentElement.lang,webdriver:window.navigator.webdriver,deviceMemory:window.navigator.deviceMemory,hardwareConcurrency:window.navigator.hardwareConcurrency};var n,e,t,r,o}function Wn(){var n,e;if("innerWidth"in window)n=window.innerWidth,e=window.innerHeight;else{var t=document.documentElement||document.body;n=t.clientWidth,e=t.clientHeight}return n>=0&&e>=0?n+qn+e:null}function Yn(n){return n&&n.split(qn).map((function(n){return Math.floor(Number(n))})).join(qn)}function Qn(n,t,r,o,i,a){void 0===a&&(a={});var c=[],u=function(n,t,r,o,i,a){var u,s,l,f,d,g,v,p,m,h,y,w,b,k,S,x,C,E,O,P,I,L,j,N,U,B,_,R;a.eventMethod=null!==(u=a.eventMethod)&&void 0!==u?u:"post";var V,M,H=function(n){var e;return null!==(e=n.stateStorageStrategy)&&void 0!==e?e:"cookieAndLocalStorage"},z=function(n){var e,t;return"boolean"!=typeof n.anonymousTracking&&(null!==(t=!0===(null===(e=n.anonymousTracking)||void 0===e?void 0:e.withSessionTracking))&&void 0!==t&&t)},J=function(n){var e,t;return"boolean"!=typeof n.anonymousTracking&&(null!==(t=!0===(null===(e=n.anonymousTracking)||void 0===e?void 0:e.withServerAnonymisation))&&void 0!==t&&t)},F=function(n){return!!n.anonymousTracking},G=null!==(l=null===(s=null==a?void 0:a.contexts)||void 0===s?void 0:s.browser)&&void 0!==l&&l,q=null===(d=null===(f=null==a?void 0:a.contexts)||void 0===f?void 0:f.webPage)||void 0===d||d;c.push((V=function(n){return he?null:n},M=function(n){return pe?n:V(n)},{beforeTrack:function(n){var e=Re("ses"),t=Ze();if(qn=!!$&&!!wn($),de||qn)We();else{Gn(t)?(Sn=e||"none"==ye?Jn(t):Mn(t,{configStateStorageStrategy:ye,configAnonymousTracking:he,onSessionUpdateCallback:Ee}),be=Fn(t)):(new Date).getTime()-we>1e3*ve&&(be++,Sn=Mn(t,{configStateStorageStrategy:ye,configAnonymousTracking:he,memorizedVisitCount:be,onSessionUpdateCallback:Ee})),Hn(t),function(n,e){if(0===n[Vn]){var t=e.build();n[_n]=t.eid;var r=t.dtm||t.ttm;n[Rn]=r?parseInt(r):void 0}}(t,n),function(n){n[Vn]+=1}(t);var r=Xn(),o=r.viewport,i=r.documentSize;n.add("vp",o),n.add("ds",i),n.add("vid",M(be)),n.add("sid",M(Sn)),n.add("duid",V(function(n){return n[In]}(t))),n.add("uid",V(En)),je(),n.add("refr",Ue(X||$n)),n.add("url",Ue(W||Kn)),!Ce||he&&!pe||function(n,e){var t={schema:Cn,data:e};n.addContextEntity(t)}(n,zn(t,ye,he)),"none"!=ye&&(qe(t),Ge()),we=(new Date).getTime()}}})),q&&c.push({contexts:function(){return[{schema:Tn,data:{id:nt()}}]}}),G&&c.push({contexts:function(){return[{schema:xn,data:e(e({},Xn()),{tabId:et()})}]}}),c.push.apply(c,null!==(g=a.plugins)&&void 0!==g?g:[]);var X,W,Q,Z,K,$,en,tn,rn,un,ln,bn,kn,Sn,En,qn,Wn=Y({base64:a.encodeBase64,corePlugins:c,callback:function(n){de||qn||ke.enqueueRequest(n.build(),ee)}}),Yn=document.characterSet||document.charset,Qn=On(window.location.hostname,window.location.href,vn()),Zn=gn(Qn[0]),Kn=Qn[1],$n=Qn[2],ne=null!==(v=a.platform)&&void 0!==v?v:"web",ee=Ke(o),te=null!==(p=a.postPath)&&void 0!==p?p:"/com.snowplowanalytics.snowplow/tp2",re=null!==(m=a.appId)&&void 0!==m?m:"",oe=document.title,ie=null===(h=a.resetActivityTrackingOnPageView)||void 0===h||h,ae=null!==(y=a.cookieName)&&void 0!==y?y:"_sp_",ce=null!==(w=a.cookieDomain)&&void 0!==w?w:void 0,ue="/",se=null!==(b=a.cookieSameSite)&&void 0!==b?b:"None",le=null===(k=a.cookieSecure)||void 0===k||k,fe=navigator.doNotTrack||navigator.msDoNotTrack||window.doNotTrack,de=void 0!==a.respectDoNotTrack&&(a.respectDoNotTrack&&("yes"===fe||"1"===fe)),ge=null!==(S=a.cookieLifetime)&&void 0!==S?S:63072e3,ve=null!==(x=a.sessionCookieTimeout)&&void 0!==x?x:1800,pe=z(a),me=J(a),he=F(a),ye=H(a),we=(new Date).getTime(),be=1,ke=An(n,i,"localStorage"==ye||"cookieAndLocalStorage"==ye,a.eventMethod,te,null!==(C=a.bufferSize)&&void 0!==C?C:1,null!==(E=a.maxPostBytes)&&void 0!==E?E:4e4,null!==(O=a.maxGetBytes)&&void 0!==O?O:0,null===(P=a.useStm)||void 0===P||P,null!==(I=a.maxLocalStorageQueueSize)&&void 0!==I?I:1e3,null!==(L=a.connectionTimeout)&&void 0!==L?L:5e3,me,null!==(j=a.customHeaders)&&void 0!==j?j:{},null===(N=a.withCredentials)||void 0===N||N,null!==(U=a.retryStatusCodes)&&void 0!==U?U:[],(null!==(B=a.dontRetryStatusCodes)&&void 0!==B?B:[]).concat([400,401,403,410,422])),Se=!1,Te=!1,xe={enabled:!1,installed:!1,configurations:{}},Ce=null!==(R=null===(_=a.contexts)||void 0===_?void 0:_.session)&&void 0!==R&&R,Ee=a.onSessionUpdateCallback;a.hasOwnProperty("discoverRootDomain")&&a.discoverRootDomain&&(ce=function(n,e){for(var t=window.location.hostname,r="_sp_root_domain_test_",o=r+(new Date).getTime(),i="_test_value_"+(new Date).getTime(),a=t.split("."),c=a.length-2;c>=0;c--){var u=a.slice(c).join(".");if(wn(o,i,0,"/",u,n,e),wn(o)===i){hn(o,u,n,e);for(var s=yn(r),l=0;l<s.length;l++)hn(s[l],u,n,e);return u}}return t}(se,le));var Ae=Xn(),Oe=Ae.browserLanguage,Pe=Ae.resolution,Ie=Ae.colorDepth,Le=Ae.cookiesEnabled;function je(){(Qn=On(window.location.hostname,window.location.href,vn()))[1]!==Kn&&($n=vn(Kn)),Zn=gn(Qn[0]),Kn=Qn[1]}function De(n){var e=(new Date).getTime(),t=n.currentTarget;(null==t?void 0:t.href)&&(t.href=function(n,e,t){var r=e+"="+t,o=n.split("#"),i=o[0].split("?"),a=i.shift(),c=i.join("?");if(c){for(var u=!0,s=c.split("&"),l=0;l<s.length;l++)if(s[l].substr(0,e.length+1)===e+"="){u=!1,s[l]=r,c=s.join("&");break}u&&(c=r+"&"+c)}else c=r;return o[0]=a+"?"+c,o.join("#")}(t.href,"_sp",kn+"."+e))}function Ne(n){for(var e=0;e<document.links.length;e++){var t=document.links[e];!t.spDecorationEnabled&&n(t)&&(pn(t,"click",De,!0),pn(t,"mousedown",De,!0),t.spDecorationEnabled=!0)}}function Ue(n){var e;return Z&&(e=new RegExp("#.*"),n=n.replace(e,"")),K&&(e=new RegExp("[{}]","g"),n=n.replace(e,"")),n}function Be(n){var e=new RegExp("^([a-z]+):").exec(n);return e?e[1]:null}function _e(n){return ae+n+"."+bn}function Re(n){var e=_e(n);return"localStorage"==ye?
/*!
   * Core functionality for Snowplow Browser trackers v3.12.0 (http://bit.ly/sp-js)
   * Copyright 2022 Snowplow Analytics Ltd, 2010 Anthon Pang
   * Licensed under BSD-3-Clause
   */
function(n){try{var e=window.localStorage,t=e.getItem(n+".expires");return null===t||+t>Date.now()?e.getItem(n):(e.removeItem(n),void e.removeItem(n+".expires"))}catch(n){return}}(e):"cookie"==ye||"cookieAndLocalStorage"==ye?wn(e):void 0}function Ve(){je(),bn=nn.exports((ce||Zn)+(ue||"/")).slice(0,4)}function Me(){var n=new Date;en=n.getTime()}function He(){!function(){var n=ze(),e=n[0];e<tn?tn=e:e>rn&&(rn=e);var t=n[1];t<un?un=t:t>ln&&(ln=t)}(),Me()}function ze(){var n=document.documentElement;return n?[n.scrollLeft||window.pageXOffset,n.scrollTop||window.pageYOffset]:[0,0]}function Je(){var n=ze(),e=n[0];tn=e,rn=e;var t=n[1];un=t,ln=t}function Fe(n){return Math.round(n)}function Ge(){Xe(_e("ses"),"*",ve)}function qe(n){var e=_e("id"),t=function(n){return n.shift(),n.join(".")}(n);Xe(e,t,ge)}function Xe(n,e,t){he&&!pe||("localStorage"==ye?on(n,e,t):"cookie"!=ye&&"cookieAndLocalStorage"!=ye||wn(n,e,t,ue,ce,se,le))}function We(n){var e=_e("id"),t=_e("ses");an(e),an(t),hn(e,ce,se,le),hn(t,ce,se,le),(null==n?void 0:n.preserveSession)||(Sn=T.v4(),be=1),(null==n?void 0:n.preserveUser)||(kn=he?"":T.v4(),En=null)}function Ye(n){n&&n.stateStorageStrategy&&(a.stateStorageStrategy=n.stateStorageStrategy,ye=H(a)),he=F(a),pe=z(a),me=J(a),ke.setUseLocalStorage("localStorage"==ye||"cookieAndLocalStorage"==ye),ke.setAnonymousTracking(me)}function Qe(){if(!he||pe){var n="none"!=ye&&!!Re("ses"),e=Ze();kn=function(n,e){var t;return n[In]?t=n[In]:e?(t="",n[In]=t):(t=T.v4(),n[In]=t),t}(e,he),Sn=n?Jn(e):Mn(e,{configStateStorageStrategy:ye,configAnonymousTracking:he,onSessionUpdateCallback:Ee}),be=Fn(e),"none"!=ye&&(Ge(),Hn(e),qe(e))}}function Ze(){return"none"==ye?["1","",0,0,0,void 0,"","","",void 0,0]:function(n,e,t,r){var o,i=new Date,a=Math.round(i.getTime()/1e3);n?(o=n.split(".")).unshift("0"):o=["1",e,a,r,a,"",t],o[Un]&&"undefined"!==o[Un]||(o[Un]=T.v4()),o[Bn]&&"undefined"!==o[Bn]||(o[Bn]=""),o[_n]&&"undefined"!==o[_n]||(o[_n]=""),o[Rn]&&"undefined"!==o[Rn]||(o[Rn]=""),o[Vn]&&"undefined"!==o[Vn]||(o[Vn]=0);var c=function(n,e){var t=parseInt(n);return isNaN(t)?e:t},u=function(n){return n?c(n,void 0):void 0};return[o[Pn],o[In],c(o[Ln],a),c(o[jn],r),c(o[Dn],a),u(o[Nn]),o[Un],o[Bn],o[_n],u(o[Rn]),c(o[Vn],0)]}(Re("id")||void 0,kn,Sn,be)}function Ke(n){return 0===n.indexOf("http")?n:("https:"===document.location.protocol?"https":"http")+"://"+n}function $e(){Se&&null!=i.pageViewId||(i.pageViewId=T.v4())}function nt(){return null==i.pageViewId&&(i.pageViewId=T.v4()),i.pageViewId}function et(){if("none"===ye||he||!q)return null;var n="_sp_tab_id",e=cn(n);return e||(!function(n,e){try{return window.sessionStorage.setItem(n,e),!0}catch(n){return!1}}(n,T.v4()),e=cn(n)),e||null}function tt(n,e){return(n||[]).concat(e?e():[])}function rt(n){var e=n.title,t=n.context,r=n.timestamp,o=n.contextCallback;je(),Te&&$e(),Te=!0,oe=document.title;var i=fn((Q=e)||oe);Wn.track(function(n){var e=n.pageUrl,t=n.pageTitle,r=n.referrer,o=A();return o.add("e","pv"),o.add("url",e),o.add("page",t),o.add("refr",r),o}({pageUrl:Ue(W||Kn),pageTitle:i,referrer:Ue(X||$n)}),tt(t,o),r);var a=new Date,c=!1;if(xe.enabled&&!xe.installed){xe.installed=!0,c=!0;var u={update:function(){if("undefined"!=typeof window&&"function"==typeof window.addEventListener){var n=!1,e=Object.defineProperty({},"passive",{get:function(){n=!0},set:function(){}}),t=function(){};window.addEventListener("testPassiveEventSupport",t,e),window.removeEventListener("testPassiveEventSupport",t,e),u.hasSupport=n}}};u.update();var s="onwheel"in document.createElement("div")?"wheel":void 0!==document.onmousewheel?"mousewheel":"DOMMouseScroll";Object.prototype.hasOwnProperty.call(u,"hasSupport")?pn(document,s,Me,{passive:!0}):pn(document,s,Me),Je();var l=function(n,e){return void 0===e&&(e=Me),function(n){return pn(document,n,e)}};["click","mouseup","mousedown","mousemove","keypress","keydown","keyup","touchend","touchstart"].forEach(l(document)),["resize","focus","blur"].forEach(l(window)),l(window,He)("scroll")}if(xe.enabled&&(ie||c)){en=a.getTime();var f=void 0;for(f in xe.configurations){var d=xe.configurations[f];d&&(window.clearInterval(d.activityInterval),ot(d,t,o))}}}function ot(n,e,t){var r=function(n,e){je(),n({context:e,pageViewId:nt(),minXOffset:tn,minYOffset:un,maxXOffset:rn,maxYOffset:ln}),Je()},o=function(){var o=new Date;en+n.configHeartBeatTimer>o.getTime()&&r(n.callback,tt(e,t))};0!=n.configMinimumVisitLength?n.activityInterval=window.setTimeout((function(){var i=new Date;en+n.configMinimumVisitLength>i.getTime()&&r(n.callback,tt(e,t)),n.activityInterval=window.setInterval(o,n.configHeartBeatTimer)}),n.configMinimumVisitLength):n.activityInterval=window.setInterval(o,n.configHeartBeatTimer)}function it(n){var e=n.minimumVisitLength,t=n.heartbeatDelay,r=n.callback;if(sn(e)&&sn(t))return{configMinimumVisitLength:1e3*e,configHeartBeatTimer:1e3*t,callback:r};D.error("Activity tracking minimumVisitLength & heartbeatDelay must be integers")}function at(n){var e=n.context,t=n.minXOffset,r=n.minYOffset,o=n.maxXOffset,i=n.maxYOffset,a=document.title;a!==oe&&(oe=a,Q=void 0),Wn.track(function(n){var e=n.pageUrl,t=n.pageTitle,r=n.referrer,o=n.minXOffset,i=n.maxXOffset,a=n.minYOffset,c=n.maxYOffset,u=A();return u.add("e","pp"),u.add("url",e),u.add("page",t),u.add("refr",r),o&&!isNaN(Number(o))&&u.add("pp_mix",o.toString()),i&&!isNaN(Number(i))&&u.add("pp_max",i.toString()),a&&!isNaN(Number(a))&&u.add("pp_miy",a.toString()),c&&!isNaN(Number(c))&&u.add("pp_may",c.toString()),u}({pageUrl:Ue(W||Kn),pageTitle:fn(Q||oe),referrer:Ue(X||$n),minXOffset:Fe(t),maxXOffset:Fe(o),minYOffset:Fe(r),maxYOffset:Fe(i)}),e)}Wn.setTrackerVersion(r),Wn.setTrackerNamespace(t),Wn.setAppId(re),Wn.setPlatform(ne),Wn.addPayloadPair("cookie",Le?"1":"0"),Wn.addPayloadPair("cs",Yn),Wn.addPayloadPair("lang",Oe),Wn.addPayloadPair("res",Pe),Wn.addPayloadPair("cd",Ie),Ve(),Qe(),a.crossDomainLinker&&Ne(a.crossDomainLinker);var ct={getDomainSessionIndex:function(){return be},getPageViewId:nt,getTabId:et,newSession:function(){var n=Ze();Gn(n)?(Sn="none"!=ye?Mn(n,{configStateStorageStrategy:ye,configAnonymousTracking:he,onSessionUpdateCallback:Ee}):Jn(n),be=Fn(n),Ge()):(be++,Sn=Mn(n,{configStateStorageStrategy:ye,configAnonymousTracking:he,memorizedVisitCount:be,onSessionUpdateCallback:Ee})),Hn(n),"none"!=ye&&(qe(n),Ge()),we=(new Date).getTime()},getCookieName:function(n){return _e(n)},getUserId:function(){return En},getDomainUserId:function(){return Ze()[1]},getDomainUserInfo:function(){return Ze()},setReferrerUrl:function(n){X=n},setCustomUrl:function(n){je(),W=function(n,e){var t;return Be(e)?e:"/"===e.slice(0,1)?Be(n)+"://"+dn(n)+e:((t=(n=Ue(n)).indexOf("?"))>=0&&(n=n.slice(0,t)),(t=n.lastIndexOf("/"))!==n.length-1&&(n=n.slice(0,t+1)),n+e)}(Kn,n)},setDocumentTitle:function(n){oe=document.title,Q=n},discardHashTag:function(n){Z=n},discardBrace:function(n){K=n},setCookiePath:function(n){ue=n,Ve()},setVisitorCookieTimeout:function(n){ge=n},crossDomainLinker:function(n){Ne(n)},enableActivityTracking:function(n){xe.configurations.pagePing||(xe.enabled=!0,xe.configurations.pagePing=it(e(e({},n),{callback:at})))},enableActivityTrackingCallback:function(n){xe.configurations.callback||(xe.enabled=!0,xe.configurations.callback=it(n))},updatePageActivity:function(){Me()},setOptOutCookie:function(n){$=n},setUserId:function(n){En=n},setUserIdFromLocation:function(n){je(),En=mn(n,Kn)},setUserIdFromReferrer:function(n){je(),En=mn(n,$n)},setUserIdFromCookie:function(n){En=wn(n)},setCollectorUrl:function(n){ee=Ke(n),ke.setCollectorUrl(ee)},setBufferSize:function(n){ke.setBufferSize(n)},flushBuffer:function(n){void 0===n&&(n={}),ke.executeQueue(),n.newBufferSize&&ke.setBufferSize(n.newBufferSize)},trackPageView:function(n){void 0===n&&(n={}),rt(n)},preservePageViewId:function(){Se=!0},disableAnonymousTracking:function(n){a.anonymousTracking=!1,Ye(n),Qe(),ke.executeQueue()},enableAnonymousTracking:function(n){var e;a.anonymousTracking=null===(e=n&&(null==n?void 0:n.options))||void 0===e||e,Ye(n),pe||$e()},clearUserData:We};return e(e({},ct),{id:n,namespace:t,core:Wn,sharedState:i})}(n,t,r,o,i,a),s=e(e({},u),{addPlugin:function(n){var e,t;s.core.addPlugin(n),null===(t=(e=n.plugin).activateBrowserPlugin)||void 0===t||t.call(e,s)}});return c.forEach((function(n){var e;null===(e=n.activateBrowserPlugin)||void 0===e||e.call(n,s)})),s}var Zn={};function Kn(n,e){try{(t=null!=n?n:Object.keys(Zn),$n(t,Zn)).forEach(e)}catch(n){D.error("Function failed",n)}var t}function $n(n,e){for(var t=[],r=0,o=n;r<o.length;r++){var i=o[r];e.hasOwnProperty(i)?t.push(e[i]):D.warn(i+" not configured")}return t}var ne=function(){this.outQueues=[],this.bufferFlushers=[],this.hasLoaded=!1,this.registeredOnLoadHandlers=[]};function ee(n,e){Kn(e,(function(e){e.enableActivityTracking(n)}))}var te="undefined"!=typeof window?function(){var n=new ne,e=document,t=window;function r(){var e;if(!n.hasLoaded)for(n.hasLoaded=!0,e=0;e<n.registeredOnLoadHandlers.length;e++)n.registeredOnLoadHandlers[e]();return!0}return e.visibilityState&&pn(e,"visibilitychange",(function(){"hidden"==e.visibilityState&&n.bufferFlushers.forEach((function(n){n(!1)}))}),!1),pn(t,"beforeunload",(function(){n.bufferFlushers.forEach((function(n){n(!1)}))}),!1),"loading"===document.readyState?(e.addEventListener?e.addEventListener("DOMContentLoaded",(function n(){e.removeEventListener("DOMContentLoaded",n,!1),r()})):e.attachEvent&&e.attachEvent("onreadystatechange",(function n(){"complete"===e.readyState&&(e.detachEvent("onreadystatechange",n),r())})),pn(t,"load",r,!1)):r(),n}
/*!
   * Browser tracker for Snowplow v3.12.0 (http://bit.ly/sp-js)
   * Copyright 2022 Snowplow Analytics Ltd, 2010 Anthon Pang
   * Licensed under BSD-3-Clause
   */():void 0;function re(n,e,t){return void 0===t&&(t={}),te?function(n,e,t,r,o,i){return Zn.hasOwnProperty(n)?null:(Zn[n]=Qn(n,e,t,r,o,i),Zn[n])}(n,n,"js-".concat("3.12.0"),e,te,t):void 0}
/*!
   * Link Click tracking for Snowplow v3.12.0 (http://bit.ly/sp-js)
   * Copyright 2022 Snowplow Analytics Ltd, 2010 Anthon Pang
   * Licensed under BSD-3-Clause
   */var oe={},ie={};function ae(){return{activateBrowserPlugin:function(n){oe[n.id]=n}}}function ce(n){void 0===n&&(n=Object.keys(oe)),n.forEach((function(n){oe[n]&&(oe[n].sharedState.hasLoaded?fe(n):oe[n].sharedState.registeredOnLoadHandlers.push((function(){fe(n)})))}))}function ue(n,e,t){for(var r,o,i,a,c,u;null!==(r=e.parentElement)&&null!=r&&"A"!==(o=e.tagName.toUpperCase())&&"AREA"!==o;)e=r;var s,l=e;if(null!=l.href){var f=l.hostname||dn(l.href),d=f.toLowerCase(),g=l.href.replace(f,d);new RegExp("^(javascript|vbscript|jscript|mocha|livescript|ecmascript|mailto):","i").test(g)||(i=l.id,a=kn(l),c=l.target,u=ie[n.id].linkTrackingContent?l.innerHTML:void 0,g=unescape(g),n.core.track(Q({event:{schema:"iglu:com.snowplowanalytics.snowplow/link_click/jsonschema/1-0-1",data:Z({targetUrl:(s={targetUrl:g,elementId:i,elementClasses:a,elementTarget:c,elementContent:u}).targetUrl,elementId:s.elementId,elementClasses:s.elementClasses,elementTarget:s.elementTarget,elementContent:s.elementContent})}}),function(n){for(var e,t=[],r=1;r<arguments.length;r++)t[r-1]=arguments[r];return null!==(e=null==n?void 0:n.map((function(n){if("function"!=typeof n)return n;try{return n.apply(void 0,t)}catch(n){return}})).filter(Boolean))&&void 0!==e?e:[]}(t,e)))}}function se(n,e){return function(t){var r,o;r=(t=t||window.event).which||t.button,o=t.target||t.srcElement,"click"===t.type?o&&ue(oe[n],o,e):"mousedown"===t.type?1!==r&&2!==r||!o?ie[n].lastButton=ie[n].lastTarget=null:(ie[n].lastButton=r,ie[n].lastTarget=o):"mouseup"===t.type&&(r===ie[n].lastButton&&o===ie[n].lastTarget&&ue(oe[n],o,e),ie[n].lastButton=ie[n].lastTarget=null)}}function le(n,e){var t=void 0===n?{}:n,r=t.options,o=t.pseudoClicks,i=t.trackContent,a=t.context;ie[e]={linkTrackingContent:i,linkTrackingContext:a,linkTrackingPseudoClicks:o,linkTrackingFilter:bn(r)}}function fe(n){var e,t,r,o,i,a=document.links;for(r=0;r<a.length;r++)(null===(t=(e=ie[n]).linkTrackingFilter)||void 0===t?void 0:t.call(e,a[r]))&&!a[r][n]&&(o=n,i=a[r],ie[o].linkTrackingPseudoClicks?(pn(i,"mouseup",se(o,ie[o].linkTrackingContext),!1),pn(i,"mousedown",se(o,ie[o].linkTrackingContext),!1)):pn(i,"click",se(o,ie[o].linkTrackingContext),!1),a[r][n]=!0)}
/*!
   * Error tracking for Snowplow v3.12.0 (http://bit.ly/sp-js)
   * Copyright 2022 Snowplow Analytics Ltd, 2010 Anthon Pang
   * Licensed under BSD-3-Clause
   */var de={};function ge(){return{activateBrowserPlugin:function(n){de[n.id]=n}}}function ve(n,e){void 0===e&&(e=Object.keys(de));var t=n.message,r=n.filename,o=n.lineno,i=n.colno,a=n.error,c=n.context,u=n.timestamp,s=a&&a.stack?a.stack:null;!function(n,e,t){try{$n(null!=n?n:Object.keys(e),e).forEach(t)}catch(n){D.error("Function failed",n)}}(e,de,(function(n){n.core.track(Q({event:{schema:"iglu:com.snowplowanalytics.snowplow/application_error/jsonschema/1-0-1",data:{programmingLanguage:"JAVASCRIPT",message:null!=t?t:"JS Exception. Browser doesn't support ErrorEvent API",stackTrace:s,lineNumber:o,lineColumn:i,fileName:r}}}),c,u)}))}function pe(n,e){void 0===n&&(n={}),void 0===e&&(e=Object.keys(de));var t=n.filter,r=n.contextAdder,o=n.context;pn(window,"error",(function(n){(t&&ln(t)&&t(n)||null==t)&&function(n,e){var t=n.errorEvent,r=n.commonContext,o=n.contextAdder,i=r||[];o&&ln(o)&&(i=i.concat(o(t)));ve({message:t.message,filename:t.filename,lineno:t.lineno,colno:t.colno,error:t.error,context:i},e)}({errorEvent:n,commonContext:o,contextAdder:r},e)}),!0)}function me(){if("undefined"==typeof window)return!1;const{doNotTrack:n,navigator:e}=window,t=n||e.doNotTrack||e.msDoNotTrack||function(){var n;const{external:e}=window;return void 0!==e&&"msTrackingProtectionEnabled"in e&&"function"==typeof e.msTrackingProtectionEnabled&&(null==(n=e.msTrackingProtectionEnabled)?void 0:n.call(e))}();return!!t&&(!0===t||1===t||"yes"===t||"string"==typeof t&&"1"===t.charAt(0))}const he="unspecified";const ye=Object.freeze({CUSTOM_EVENT:"iglu:com.gitlab/custom_event/jsonschema/1-0-0",USER_CONTEXT:"iglu:com.gitlab/user_context/jsonschema/1-0-0"}),we="gitlab",be=Object.freeze({minimumVisitLength:30,heartbeatDelay:10});
/*!
   * Attaches Client Hints to Snowplow events v3.12.0 (http://bit.ly/sp-js)
   * Copyright 2022 Snowplow Analytics Ltd, 2010 Anthon Pang
   * Licensed under BSD-3-Clause
   */
var ke;function Se(n){return{activateBrowserPlugin:function(){var e,t;ke||(t=navigator).userAgentData&&(ke={isMobile:t.userAgentData.mobile,brands:(e=t.userAgentData.brands,Array.isArray(e)?e:Object.keys(e).map((function(n){return e[n]})))},n&&t.userAgentData.getHighEntropyValues&&t.userAgentData.getHighEntropyValues(["platform","platformVersion","architecture","model","uaFullVersion"]).then((function(n){ke.architecture=n.architecture,ke.model=n.model,ke.platform=n.platform,ke.uaFullVersion=n.uaFullVersion,ke.platformVersion=n.platformVersion})))},contexts:function(){return ke?[{schema:"iglu:org.ietf/http_client_hints/jsonschema/1-0-0",data:ke}]:[]}}}
/*!
   * Attaches Performance Timing data to Snowplow events v3.12.0 (http://bit.ly/sp-js)
   * Copyright 2022 Snowplow Analytics Ltd, 2010 Anthon Pang
   * Licensed under BSD-3-Clause
   */function Te(){return{contexts:function(){return n=window,e=n.performance||n.mozPerformance||n.msPerformance||n.webkitPerformance,t=e.timing,e?[{schema:"iglu:org.w3/PerformanceTiming/jsonschema/1-0-0",data:{navigationStart:t.navigationStart,redirectStart:t.redirectStart,redirectEnd:t.redirectEnd,fetchStart:t.fetchStart,domainLookupStart:t.domainLookupStart,domainLookupEnd:t.domainLookupEnd,connectStart:t.connectStart,secureConnectionStart:t.secureConnectionStart,connectEnd:t.connectEnd,requestStart:t.requestStart,responseStart:t.responseStart,responseEnd:t.responseEnd,unloadEventStart:t.unloadEventStart,unloadEventEnd:t.unloadEventEnd,domLoading:t.domLoading,domInteractive:t.domInteractive,domContentLoadedEventStart:t.domContentLoadedEventStart,domContentLoadedEventEnd:t.domContentLoadedEventEnd,domComplete:t.domComplete,loadEventStart:t.loadEventStart,loadEventEnd:t.loadEventEnd,msFirstPaint:t.msFirstPaint,chromeFirstPaint:t.chromeFirstPaint,requestEnd:t.requestEnd,proxyStart:t.proxyStart,proxyEnd:t.proxyEnd}}]:[];var n,e,t}}}class xe{constructor(n){var e,t,r;if(this.snowplow=null,this.options={appId:"",host:"",hasCookieConsent:!1,respectGlobalPrivacyControl:!0,trackerId:we,pagePingTracking:!0},this.defaultPlugins={clientHints:!0,linkTracking:!0,performanceTiming:!0,errorTracking:!0},this.refreshLinkClickTracking=ce.bind(this),this.options={...this.options,...n},this.options.plugins={...this.defaultPlugins,...null!=(e=null==n?void 0:n.plugins)?e:{}},!this.trackingEnabled)return;const{appId:o,host:i,hasCookieConsent:a=!1,trackerId:c=we,pagePingTracking:u,plugins:s}=this.options;if(!o)return void console.warn("GitLab: No appId was provided");if(!i)return void console.warn("GitLab: No host was provided");const l=function(n,e,t){const r={clientHints:Se,linkTracking:ae,performanceTiming:Te,errorTracking:ge},o={appId:n,plugins:Object.entries(t).filter((([,n])=>n)).map((([n])=>r[n]())),contexts:{webPage:!0,browser:!0}};return e?o:{...o,anonymousTracking:{withServerAnonymisation:!0},stateStorageStrategy:"none",eventMethod:"post"}}(o,a,s);this.snowplow=re(c,i,l),"boolean"==typeof u&&u?ee(be):"object"==typeof u&&ee({minimumVisitLength:null!=(t=u.minimumVisitLength)?t:be.minimumVisitLength,heartbeatDelay:null!=(r=u.heartbeatDelay)?r:be.heartbeatDelay});const{linkTracking:f,errorTracking:d}=s;var g,v;f&&(void 0===g&&(g={}),void 0===v&&(v=Object.keys(oe)),v.forEach((function(n){oe[n]&&(oe[n].sharedState.hasLoaded?(le(g,n),fe(n)):oe[n].sharedState.registeredOnLoadHandlers.push((function(){le(g,n),fe(n)})))}))),d&&pe()}get trackingEnabled(){var n;return(!this.options.respectGlobalPrivacyControl||["0",he].includes(null!=(n=null==navigator?void 0:navigator.globalPrivacyControl)?n:he))&&!me()}track(n,{...e}={}){var t,r;this.trackingEnabled&&(t={event:{schema:ye.CUSTOM_EVENT,data:{name:n,props:{...e}}}},Kn(r,(function(n){n.core.track(Q({event:t.event}),t.context,t.timestamp)})))}trackError({...n}){var e;this.trackingEnabled&&((null==(e=this.options.plugins)?void 0:e.errorTracking)?ve({...n}):console.warn("GitLab: Error tracking plugin is not enabled"))}addCookieConsent(){var n,e;n={stateStorageStrategy:"cookieAndLocalStorage"},Kn(e,(function(e){e.disableAnonymousTracking(n)}))}page(n){this.trackingEnabled&&function(n,e){Kn(e,(function(e){e.trackPageView(n)}))}(n)}identify(n,e={}){var t,r,o;if(this.trackingEnabled&&(function(n,e){Kn(e,(function(e){e.setUserId(n)}))}(n),(o=e)&&("string"==typeof o||Array.isArray(o)?0!==o.length:"object"!=typeof o||0!==Object.keys(o).length))){let n={schema:ye.USER_CONTEXT,data:e};t=[n],Kn(r,(function(n){n.core.addGlobalContexts(t)}))}}setCustomUrl(n){this.trackingEnabled&&function(n,e){Kn(e,(function(e){e.setCustomUrl(n)}))}(n)}setReferrerUrl(n){this.trackingEnabled&&function(n,e){Kn(e,(function(e){e.setReferrerUrl(n)}))}(n)}setDocumentTitle(n){this.trackingEnabled&&function(n,e){Kn(e,(function(e){e.setDocumentTitle(n)}))}(n)}}n.glClientSDK=function(n){return new xe(n)}}));
